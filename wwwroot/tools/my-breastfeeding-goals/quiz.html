<!DOCTYPE html>
<html>

<head>
    <!-- Need to localise this later on. -->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Already localised -->
    <link rel="stylesheet" href="../../font-icons/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../../font-baby/flaticon.css">

    <link type="text/css" rel="stylesheet" href="../../css/materialize.min.css" media="screen,projection" />
    <link type="text/css" rel="stylesheet" href="../../css/mbn.css" media="screen,projection" />
    <link type="text/css" rel="stylesheet" href="../../css/preloader/main.css">

    <!-- iOS set up to go into mobile mode. Need to set for Android accordingly. -->
    <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Load the scripts but import jQuery before materialise.js -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="../../js/materialize.min.js"></script>
    <script type="text/javascript" src="../../js/mbn.js"></script>
    <script type="text/javascript" src="../../js/header.js"></script>
    <script type="text/javascript">
        var ans1;

        var userId = $.session.get('secretKey');

        $(document).ready(function () {
            $('#pg1').show();

            $('#pg2').hide();
       

            $('#pg1-ans').hide();

            $('#mark').hide();

            $('#q1-modal').hide();

            start();
        });

        function start() {
            $(".preloader-wrapper").removeClass("hide");

            // $('input[name=q1-options]').click(function () {
            //     if ($('input[name=q1-options]:checked').val() === "a") {
            //         $('input[name=q2-options]').attr('disabled', true);
            //         $('input[name=q3-options]').attr('disabled', true);
            //         $("#pg3 .mbn-section").css("color", "rgba(0,0,0,0.26)");
            //         $("#pg4 .mbn-section").css("color", "rgba(0,0,0,0.26)");
            //         $('html, body').animate({
            //             scrollTop: $("#pg4").offset().top
            //         }, 'fast');
            //     } else {
            //         $('input[name=q2-options]').attr('disabled', false);
            //         $('input[name=q3-options]').attr('disabled', false);
            //         $("#pg3 .mbn-section").css("color", "#6699cc");
            //         $("#pg4 .mbn-section").css("color", "#6699cc");
            //     }
            // });

            $.get("http://assc-klong-gh.azurewebsites.net/tables/my_breastfeeding_goals_quiz?$filter=user_id eq '" +
                userId + "'",
                function (data) {
                    if (data.length !== 0) {
                        $('input[name=q1-options][value=' + data[0].ans1 + ']').prop('checked', true);

                        $('input[name=q1-options]').attr('disabled', true);


                        mark();

                        $("#mark").addClass("hide");

                        $("#clear").removeClass("hide");

                        $('#pg1').hide();

                        $('#pg2').show();
                    } else {
                        $('input[name=q1-options]').prop('checked', false);

                    }

                    $(".preloader-wrapper").addClass("hide");
                });
        }


        function startQuiz() {
            $('#pg1').hide();

            $('#pg2').show();

            $('#mark').show();
        }

        function clearAnswers() {
            $(".preloader-wrapper").removeClass("hide");

            $.get("http://assc-klong-gh.azurewebsites.net/tables/my_breastfeeding_goals_quiz?$filter=user_id eq '" +
                userId + "'",
                function (data) {
                    if (data.length !== 0) {
                        var entryId = data[0].id;
                        $.ajax({
                            type: "delete",
                            url: "http://assc-klong-gh.azurewebsites.net/tables/my_breastfeeding_goals_quiz/" + entryId,
                            success: function (responseData, textStatus, jqXHR) {
                                $(".preloader-wrapper").addClass("hide");
                                location.reload();
                            },
                            error: function (jqXHR, textStatus, errorThrown) {
                                var errorMessage = "Something went wrong";
                                if (jqXHR.status === 0) {
                                    errorMessage =
                                        "Network not connected.\nPlease verify your network connection.";
                                } else if (jqXHR.status == 404) {
                                    errorMessage = "404. The requested page not found.";
                                } else if (jqXHR.status == 500) {
                                    errorMessage = "Internal Server Error [500].";
                                }
                                $("#modal p").html(errorMessage);
                                $('#modal').modal();
                                $("#modal").modal('open');
                                $(".preloader-wrapper").addClass("hide");
                            }
                        });
                    } else {
                        $("#modal p").html("Answers has been cleared");
                        $("#modal").modal();
                        $("#modal").modal('open');
                        $(".preloader-wrapper").addClass("hide");
                    }
                });
        }


        function mark() {
            // Retrieve the values of each answer
            ans1 = $('input[name=q1-options]:checked').val();

            // Check that there is value for all.
 
                if (ans1 === null) {
                    alert('You need to answer all questions.');
                    return;
                }
            


            // Now prepare the answer

            if (ans1 === "a") {
                $('#pg1-ans').html("<div class='card-panel light-green lighten-5 white-text'><div class='mbn-text'>Breastfeeding for just a few days will mean your baby receives the <a onclick='q1_modal();'>colostrum</a> that your breasts store during pregnancy, ready for when your baby is first born. Colostrum is your baby's perfect first food – it is high in nutrients and antibodies to help build your baby's immune system, and is easy to digest. Breastfeeding also helps your uterus to contract back to its pre-pregnant size and shape, which reduces the chances of excessive bleeding after delivery. Over time, breastfeeding also burns lots of energy (kilojoules/calories), helping you to lose any excess weight you might have gained during pregnancy.<br /> <br />Did you know that breastfeeding for:<br /><ul class='mbn-text'><li><u>4–6 weeks</u> means your baby is less likely to get sick, be hospitalised or have digestive problems?</li><li><u>4 months</u> helps to protect your baby against allergies and ear infections?</li><li><u>6 months</u> has life-long benefits for both you (e.g. lower risk of breast cancer) and your child (e.g. reduced risk of cancers)?</li><li><u>9 months or more</u> will help ensure your child performs better at school?</li></ul> <br /> Read more about <a onclick='q1_modal();'>what you should expect</a> and the <a onclick='q1_modal();'>benefits of continuing to breastfeed</a>.</div>");
            }

            if(ans1 === "b"){
                $('#pg1-ans').html("<div class='card-panel light-green lighten-5 white-text'><div class='mbn-text'>Breastfeeding your baby for 4–6 weeks means they are less likely to get sick, be hospitalised or have digestive problems. It also helps with bonding and attachment. As an added bonus, breastfeeding will also burn lots of energy (kilojoules/calories) which can help you to lose any excess weight you might have gained during pregnancy.<br /> <br />Did you know that breastfeeding for:<br /><ul class='mbn-text'><li><u>4 months</u> helps to protect your baby against allergies and ear infections?</li><li><u>6 months</u> has life-long benefits for both you (e.g. lower risk of breast cancer) and your child (e.g. reduced risk of cancers)?</li><li><u>9 months or more</u> will help ensure your child performs better at school?</li></ul> <br /> <br />Breastfeeding is a learning curve for both you and your baby, but don't worry, there's <a onclick='q1_modal();'>plenty of help available</a> if you need it. It's normal for you and your baby to take 4–6 weeks to figure out what works best and really get the hang of it. Read more about <a onclick='q1_modal();'>what you should expect</a> and the <a onclick='q1_modal();'>benefits of continuing to breastfeed</a>.</div>");
            }

            if(ans1 === "c"){
                $('#pg1-ans').html("<div class='card-panel light-green lighten-5 white-text'><div class='mbn-text'>Giving nothing but breastmilk for the first 4 months helps to protect against allergies as well as ear infections. Your baby is also less likely to get sick, be hospitalised or have digestive problems. As an added bonus, breastfeeding also burns lots of energy (kilojoules/calories) helping you to lose any excess weight you might have gained during pregnancy. By 3–4 months, breastfeeding should become second nature, feeling much easier and quicker.<br /> <br />Did you know that breastfeeding for:<br /><ul class='mbn-text'><li><u>6 months</u> has life-long benefits for both you (e.g. lower risk of breast cancer) and your child (e.g. reduced risk of cancers)?</li><li><u>9 months or more</u> will help ensure your child performs better at school?</li></ul> Read more about <a onclick='q1_modal();'>what you should expect</a> and the <a onclick='q1_modal();'>benefits of continuing to breastfeed</a>.</div>");
            }

            if(ans1 === "d"){
                $('#pg1-ans').html("<div class='card-panel light-green lighten-5 white-text'><div class='mbn-text'>Breastfeeding exclusively (that is, only breastmilk with no other fluids or solids) for 6 months means you will be meeting Australian health guidelines. Not only is your baby is less likely to get sick, be hospitalised or have digestive problems but by breastfeeding exclusively for 6 months, you reduce your child's lifetime risk of some cancers and your own risk of developing breast cancer. As an added bonus, breastfeeding also burns lots of energy (kilojoules/calories) helping you to lose any excess weight you might have gained during pregnancy.<br /> <br />Did you know that breastfeeding for at least 9 months will help ensure your child performs better at school? <br /><br /> <br />Read more about <a onclick='q1_modal();'>what you should expect</a> and if you plan to return to work after 6 months, you might like to read more about your options for breastfeeding when you're a <a onclick='q1_modal();'>working mum</a>. </div>");
            }

            if(ans1 === "e"){
                $('#pg1-ans').html("<div class='card-panel light-green lighten-5 white-text'><div class='mbn-text'>Breastfeeding exclusively (that is, only breastmilk with no other fluids or solids) for 6 months means you will be meeting Australian health guidelines. Not only is your baby is less likely to get sick, be hospitalised or have digestive problems but by breastfeeding exclusively for 6 months, you reduce your child's lifetime risk of some cancers and your own risk of developing breast cancer. By continuing to breastfeed for at least 9 months you also help ensure your child performs better at school.<br /> <br />As added bonuses, breastfeeding also:<br /><ul class='mbn-text'><li>burns lots of energy (kilojoules/calories) helping you to lose any excess weight you might have gained during pregnancy</li><li>provides the perfect way for re-connecting with your baby, especially if you expect you will be working again by this stage – read more about options for breastfeeding when you're a <a onclick='q1_modal();'>working mum</a></li></ul>Read more about <a onclick='q1_modal();'>what you should expect from breastfeeding</a>.</div>");
            }

            if(ans1 === "f"||ans1 === "g"){
                $('#pg1-ans').html("<div class='card-panel light-green lighten-5 white-text'><div class='mbn-text'>You can breastfeed for as long as you or your baby like! By breastfeeding for at least 12 months you avoid the cost and hassle of formula and bottles all together because by 12 months it's safe to can introduce cow's milk straight from a cup if you are ready to stop breastfeeding and your baby will be already be eating family meals.<br /> <br />As added bonuses, breastfeeding:<br /><ul class='mbn-text'><li>exclusively (that is, only breastmilk with no other fluids or solids) for 6 months means you will be meeting Australian health guidelines, making it less likely your baby will get sick, be hospitalised or have digestive problems whilst also reducing your child's lifetime risk of some cancers and your own risk of developing breast cancer</li><li>burns lots of energy (kilojoules/calories) helping you to lose any excess weight you might have gained during pregnancy</li><li>provides the perfect way for re-connecting with your baby, especially if you expect you will be working again by this stage – read more about options for breastfeeding when you're a <a onclick='q1_modal();'>working mum</a></li><li>for at least 9 months also helps ensure your child performs better at school</li></ul> Read more about <a onclick='q1_modal();'>what you should expect from breastfeeding</a>.</div>");
            }

            if(ans1 === "h"){
                $('#pg1-ans').html("<div class='card-panel light-green lighten-5 white-text'><div class='mbn-text'>If you're a first time mum, you may be unsure how long you might breastfeed for, and prefer to wait and just see how things go. <br /> <br />Remember, breastfeeding is a learning curve for both you and your baby, but don't worry, there's <a onclick='q1_modal();'>plenty of help available</a> if you need it. It's normal for you and your baby to take 4–6 weeks to figure out what works best and really get the hang of it.<br /> <br />You might also like to read about <a onclick='q1_modal();'>what you should expect from breastfeeding</a>, the many options for breastfeeding when you're a <a onclick='q1_modal();'>working mum</a> or <a onclick='q1_modal();'>tips for breastfeeding in publi</a>.<br /> <br />There are many benefits that makes breastfeeding worth giving a good go. Breastfeeding:<br /><ul class='mbn-text'><li>burns lots of energy (kilojoules/calories) helping you to lose any excess weight you might have gained during pregnancy</li><li>exclusively (that is, only breastmilk with no other fluids or solids) for 6 months means you will be meeting Australian health guidelines, making it less likely your baby will get sick, be hospitalised or have digestive problems whilst also reducing your child's lifetime risk of some cancers and your own risk of developing breast cancer</li><li>for at least 9 months helps ensure your child performs better at school</li></ul> If most of your friends and family members have bottle fed their babies, it might feel like you should too. But if you decide you want to breastfeed, there are plenty of ways to surround yourself with other mums who are breastfeeding for support, for example – join <a onclick='q1_modal();'>our forum</a>, a mothers group in your local area (or online) or an <a onclick='q1_modal();'>Australian Breastfeeding Association support group</a> in your local area. Connecting with other breastfeeding mums can make a world of difference. Remember, breastfeeding is a learning curve, we're in it together. <br /> <br />If you've had trouble breastfeeding a previous baby, it's completely understandable that you might feel anxious about breastfeeding your new baby. Keep in mind that <u>every baby is different</u>, so even if you had problems before, it doesn't mean you will have them again with this baby. And if you do, don't worry, <a onclick='q1_modal();'>plenty of help</a> is available! Read more on <a onclick='q1_modal();'>how to make enough milk</a>, <a onclick='q1_modal();'>getting your baby to attach well</a> and some other <a onclick='q1_modal();'>common breastfeeding issues</a>.</div>");
            }

             if(ans1 === "i"){
                $('#pg1-ans').html("<div class='card-panel light-green lighten-5 white-text'><div class='mbn-text'>Every mum has the right to decide how they will feed their baby which is why we also provide information for mums who <a onclick='q1_modal();'>use formula</a>. <br /> <br />If you would like to breastfeed your baby but have some concerns, the following links below might be helpful: <br /><ul class='mbn-text'><li><a onclick='q1_modal();'>what you should expect from breastfeeding</a></li><li><a onclick='q1_modal();'>how to make enough milk </a></li><li><a onclick='q1_modal();'>getting your baby to attach well </a></li><li><a onclick='q1_modal();'>common breastfeeding issues</a></li><li><a onclick='q1_modal();'>getting support</a></li><li><a onclick='q1_modal();'>tips for breastfeeding in public</a></li><li><a onclick='q1_modal();'>breastfeeding when you're a working mum</a></li></ul> </div>");
            }

            $('#pg1-ans').show();

            $('input[name=q1-options]').attr('disabled', true);


            $.get("http://assc-klong-gh.azurewebsites.net/tables/my_breastfeeding_goals_quiz?$filter=user_id eq '" +
                userId + "'",
                function (data) {
                    $(".preloader-wrapper").removeClass("hide");
                    var postData = {
                        user_id: userId,
                        ans1: ans1
                    };
                    if (data.length === 0) {
                        $.ajax({
                            type: "post",
                            url: "http://assc-klong-gh.azurewebsites.net/tables/my_breastfeeding_goals_quiz",
                            data: JSON.stringify(postData),
                            contentType: "application/json",
                            dataType: "json",
                            success: function (responseData, textStatus, jqXHR) {
                                $(".preloader-wrapper").addClass("hide");
                            },
                            error: function (jqXHR, textStatus, errorThrown) {
                                var errorMessage = "Something went wrong";
                                if (jqXHR.status === 0) {
                                    errorMessage =
                                        "Network not connected.\nPlease verify your network connection.";
                                } else if (jqXHR.status == 404) {
                                    errorMessage = "404. The requested page not found.";
                                } else if (jqXHR.status == 500) {
                                    errorMessage = "Internal Server Error [500].";
                                }
                                $("#modal p").html(errorMessage);
                                $('#modal').modal();
                                $("#modal").modal('open');
                                $(".preloader-wrapper").addClass("hide");
                            }
                        });
                    } else {
                        var entryId = data[0].id;
                        var postData = {
                            ans1: ans1
                        };
                        $.ajax({
                            type: "patch",
                            url: "http://assc-klong-gh.azurewebsites.net/tables/my_breastfeeding_goals_quiz/" + entryId,
                            data: JSON.stringify(postData),
                            contentType: "application/json",
                            dataType: "json",
                            success: function (responseData, textStatus, jqXHR) {
                                $(".preloader-wrapper").addClass("hide");
                            },
                            error: function (jqXHR, textStatus, errorThrown) {
                                var errorMessage = "Something went wrong";
                                if (jqXHR.status === 0) {
                                    errorMessage =
                                        "Network not connected.\nPlease verify your network connection.";
                                } else if (jqXHR.status == 404) {
                                    errorMessage = "404. The requested page not found.";
                                } else if (jqXHR.status == 500) {
                                    errorMessage = "Internal Server Error [500].";
                                }
                                $("#modal p").html(errorMessage);
                                $('#modal').modal();
                                $("#modal").modal('open');
                                $(".preloader-wrapper").addClass("hide");
                            }
                        });

                    }

                    $("#mark").addClass("hide");

                    $("#clear").removeClass("hide");

                });

            $('html, body').animate({
                scrollTop: 0
            }, 'fast');
        }

        function q1_modal() {
            $('#q1-modal').show();
        }

    </script>
</head>

<body>
    <div id="loader-wrapper" class="preloader-wrapper hide">
        <div id="loader"></div>
        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>
    </div>
    <!--General Modal Structure -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <p></p>
        </div>
        <div class="modal-footer">
            <a class=" modal-action modal-close waves-effect waves-green btn-flat">OK</a>
        </div>
    </div>

    <div class="mbn-logo">
        <img src="../../images/logo.png" class="mbn-logo-style" />
    </div>

    <div class="navbar-fixed">
        <nav class="mbn-nav">
            <div class="nav-wrapper">
                <a class="mbn-name">Flynn Now</a>
                <i class="fa fa-search fa-2x mbn-search-style"></i>
            </div>
        </nav>
    </div>

    <!-- Two different display cards -->
    <div class="card mbn-card" id="section-card">
        <div class="card-image">
            <img src="images/landing.png" />
            <span class="card-title mbn-card-title" id="section-title" onclick="Load('tools');">
                <i class="fa fa-chevron-left"></i> Tools
            </span>
        </div>
    </div>

    <div class="card mbn-card-fixed-content" id="section-card-min">
        <span class="card-title mbn-card-title-content" id="section-title" onclick="Load('tools');">
            <i class="fa fa-chevron-left"></i> Tools
        </span>
    </div>

    <!-- Content -->
    <div class="mbn-content" id="section-content">
        <div class="mbn-content-scroll">
            <div id="pg1">
                <p class="mbn-section">My breastfeeding goals</p>
                <p class="mbn-text">
                    My breastfeeding goals introducing...
                    <br />
                    <br />
                </p>
                <div class="login-btn" onclick="startQuiz()">Begin quiz</div>
            </div>

            <div id="pg2">
                <div id="clear" class="login-btn hide" onclick="clearAnswers()" style="margin-right:0">Redo quiz</div>

                <table>
                    <tr>
                        <td style="vertical-align: top; width: 10%;">
                            <p class="mbn-section">1.</p>
                        </td>
                        <td>
                            <p class="mbn-section">
                                I plan to breastfeed for:
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                            <div class="input-field">
                                <p>
                                    <input id="q1-a" value="a" name="q1-options" type="radio">
                                    <label for="q1-a">Just a few days</label>
                                </p>
                                <p>
                                    <input id="q1-b" value="b" name="q1-options" type="radio">
                                    <label for="q1-b">4–6 weeks</label>
                                </p>
                                <p>
                                    <input id="q1-c" value="c" name="q1-options" type="radio">
                                    <label for="q1-c">3–4 months</label>
                                </p>
                                <p>
                                    <input id="q1-d" value="d" name="q1-options" type="radio">
                                    <label for="q1-d">Around 6 months</label>
                                </p>
                                <p>
                                    <input id="q1-e" value="e" name="q1-options" type="radio">
                                    <label for="q1-e">Around 9 months</label>
                                </p>
                                <p>
                                    <input id="q1-f" value="f" name="q1-options" type="radio">
                                    <label for="q1-f">Around 12 months</label>
                                </p>
                                <p>
                                    <input id="q1-g" value="g" name="q1-options" type="radio">
                                    <label for="q1-g">12+ months</label>
                                </p>
                                <p>
                                    <input id="q1-h" value="h" name="q1-options" type="radio">
                                    <label for="q1-h">I am not sure yet</label>
                                </p>
                                <p>
                                    <input id="q1-i" value="i" name="q1-options" type="radio">
                                    <label for="q1-i">I don't plan on breastfeeding</label>
                                </p>
                            </div>
                        </td>
                    </tr>
                </table>
                <div id="pg1-ans">
                        <p class="mbn-text">
                        </p>
                    </div>
            </div>


            <br />
            <br />

            <div id="mark" class="login-btn" onclick="mark()">Submit answers</div>

            <p>
                <br />
                <br />
                <br />
            </p>
        </div>
    </div>

    <div class="navbar-fixed mbn-footer hide-on-med-and-up">
        <nav class="mbn-nav">
            <div class="nav-wrapper">
                <div class="container">
                    <div class="row">
                        <div class="col mbn-icon" onclick="Load('feed');">
                            <p>
                                <img src="../../images/feed.png" style="width:30%;" />
                                <br />
                                <span class="mbn-icon-text">My baby</span>
                            </p>
                        </div>
                        <div class="col mbn-icon" onclick="Load('topics');">
                            <p class="mbn-icon-selected">
                                <img src="../../images/topics.png" style="width:30%;" />
                                <br />
                                <span class="mbn-icon-text">Topics</span>
                            </p>
                        </div>
                        <div class="col mbn-icon" onclick="Load('tools');">
                            <p>
                                <img src="../../images/tools-s.png" style="width:30%;" />
                                <br />
                                <span class="mbn-icon-text-selected">Tools</span>
                            </p>
                        </div>
                        <div class="col mbn-icon" onclick="Load('forum');">
                            <p>
                                <img src="../../images/forum.png" style="width:30%;" />
                                <br />
                                <span class="mbn-icon-text">Forum</span>
                            </p>
                        </div>
                        <div class="col mbn-icon" onclick="Load('more');">
                            <p>
                                <img src="../../images/more.png" style="width:30%;" />
                                <br />
                                <span class="mbn-icon-text">More</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>

    <div id="q1-modal" class="tools-content">
        <span class="tools-close">
            <i class="fa fa-times-circle fa-2x" onclick="$('#q1-modal').hide();"></i>
        </span>
        <p>
            <br />
            <br />
            <br /> Content is loaded here.
        </p>
    </div>
</body>

</html>